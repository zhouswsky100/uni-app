(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/appointment/order/order"],{"0be9":function(e,t,r){"use strict";var o=r("46e5"),n=r.n(o);n.a},"46e5":function(e,t,r){},"59a0":function(e,t,r){"use strict";r.r(t);var o=r("7fd0"),n=r("a51a");for(var a in n)"default"!==a&&function(e){r.d(t,e,function(){return n[e]})}(a);r("0be9");var d,i=r("f0c5"),u=Object(i["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],d);t["default"]=u.exports},"7fd0":function(e,t,r){"use strict";var o,n=function(){var e=this,t=e.$createElement;e._self._c},a=[];r.d(t,"b",function(){return n}),r.d(t,"c",function(){return a}),r.d(t,"a",function(){return o})},"857b":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r("2f62");function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){a(e,t,r[t])})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={data:function(){return{orderInfo:{},aumList:[],refresh:0,aumSeletedInfo:{},uMenberId:0}},onLoad:function(e){this.orderInfo=JSON.parse(e.orderInfo),console.log(this.orderInfo),this.getData()},onShow:function(){this.uMenberId=e.getStorageSync("uMenberId");var t=this.$status.getRefreshNum(this.$globalMethod.getPageName());this.refresh!=t&&(console.log(this.refresh+"====>"+t),this.refresh=t,this.getUmender())},methods:{patientClick:function(t){e.navigateTo({url:"pages/appointment/select-patient/select-patient"})},submit:function(){var t=this,r={aumUuid:this.uMenberId,orgUuid:this.orderInfo.orgUuid,orgDeptUuid:this.orderInfo.orgDeptUuid,orgDeptEmpUuid:this.orderInfo.orgDeptEmpUuid,scheduleUuid:this.orderInfo.scheduleUuid,orderPoolUuid:this.orderInfo.orderPoolUuid,orderResType:this.orderInfo.orderResType,sdate:this.orderInfo.sdate,timeBegin:this.orderInfo.timeBegin,timeEnd:this.orderInfo.timeEnd,payChargeType:"99",mobile:this.aumSeletedInfo.mobile,price:this.orderInfo.priceJSON.price+"00"};e.showModal({title:"温馨提示",content:"在互联网平台上注册只适用于自费用户。暂时不支持医疗保险费用减免。",success:function(o){o.confirm&&t.$globalMethod.ds_api({method:"m=O001&token=Sapp_id_01_13000&openId="+t.$globalMethod.openID+"&publicOpenId="+t.$globalMethod.openWatchId,loadmsg:"预约下单",data:r,success:function(o){if(o&&o.data.data){var n=o.data.data;n.sdate=t.orderInfo.sdate,n.price=100*Number(t.orderInfo.priceJSON.price),n.orderResType=t.orderInfo.orderResType;var a={dname:t.orderInfo.deptName,oname:t.orderInfo.oname,pname:t.aumSeletedInfo.pname,ename:t.orderInfo.ename,price:t.orderInfo.priceJSON.price+"元",orderDay:t.orderInfo.orderDay},d={orderSerial:n.orderSerial,appOrderId:n.appOrderId,visitNotice:n.visitNotice},i={requestParams:r,urlShowParam:a,sureInfo:d};e.redirectTo({url:"/pages/appointment/pay/pay?urlParam="+JSON.stringify(i)})}}})}})},getData:function(){var e=this;this.$globalMethod.ds_api({method:"m=B0012&token=SemXlsuV0Ko2Ugrp",loadmsg:"医院详情",data:{orgUuid:this.orderInfo.orgUuid},success:function(t){t&&t.data.data&&(e.$set(e.orderInfo,"addr",t.data.data.addr),e.$set(e.orderInfo,"oname",t.data.data.oname))}}),this.$globalMethod.ds_api({method:"m=Y005&token=SemXlsuV0Ko2Ugrp&openId="+this.$globalMethod.openID,loadmsg:"就诊人列表",showLoading:!1,data:{userId:this.$status.userId()},success:function(t){t&&0!=t.data.data.length&&(e.aumList=t.data.data,e.getUmender())}})},getUmender:function(){var e=this;this.aumList.forEach(function(t){e.uMenberId=e.uMenberId?e.uMenberId:t.userMemberUuid,t.aumUuid==e.uMenberId&&(e.$set(e.aumSeletedInfo,"pname",t.pname),e.$set(e.aumSeletedInfo,"mobile",t.mobile),e.$set(e.aumSeletedInfo,"aumUuid",t.aumUuid),e.aumSeletedInfo.idcard=e.$globalMethod.hqkFuncStrEncrypt(t.idcard,4,10,"*"),e.aumSeletedInfo.healthCardNo=e.$globalMethod.hqkFuncStrEncrypt(t.healthCardNo,4,10,"*"))})}},computed:n({},(0,o.mapState)(["$status"]))};t.default=d}).call(this,r("543d")["default"])},a51a:function(e,t,r){"use strict";r.r(t);var o=r("857b"),n=r.n(o);for(var a in o)"default"!==a&&function(e){r.d(t,e,function(){return o[e]})}(a);t["default"]=n.a},dcd3:function(e,t,r){"use strict";(function(e){r("9e88"),r("921b");o(r("66fd"));var t=o(r("59a0"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])}},[["dcd3","common/runtime","common/vendor"]]]);